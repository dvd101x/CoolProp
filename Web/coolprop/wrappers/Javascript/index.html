<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>CoolProp Javascript example</title>
<script src="coolprop.js"></script>
</head>

<body>
    <form>
        <label for="FluidName">FluidName: </label>
        <select id="FluidName">
            <option value = "Nitrogen" selected>Nitrogen</option>
            <option value = "R134a">R134a</option>
        </select>
		<br>
        <label for="Property1">Property #1: </label>
        <select id="Property1">
            <option value="P" selected>Pressure [Pa]</option>
            <option value="T">Temperature [K]</option>
            <option value="D">Density [kg/m&#179;]</option>
        </select>
        <input type = "number" id ='Value1' value="101300"></input>
		<br>
        <label for="Property2">Property #2: </label>
        <select id="Property2">
            <option value="P">Pressure [Pa]</option>
            <option value="T" selected>Temperature [K]</option>
            <option value="D">Density [kg/m&#179;]</option>
        </select>
        <input type = "number" id ='Value2'value="312"></input><br>
		<button type="button" onclick= "calc()">Calculate</button>
		<button type="reset">Reset Inputs</button>
    </form>
	<h1>Output: </h1>
    <p id="output"></p>
    <script>
	function calc(){
		var name = document.getElementById("FluidName").value
		var key1 = document.getElementById("Property1").value
		var val1 = document.getElementById("Value1").valueAsNumber
		var key2 = document.getElementById("Property2").value
		var val2 = document.getElementById("Value2").valueAsNumber
	 
		var T = Module.PropsSI('T', key1, val1, key2, val2, name)
		var rho = Module.PropsSI('D', key1, val1, key2, val2, name)
		var p = Module.PropsSI('P', key1, val1, key2, val2, name)
		var s = Module.PropsSI('S', key1, val1, key2, val2, name)
		var h = Module.PropsSI('H', key1, val1, key2, val2, name)
		var cp = Module.PropsSI('C', key1, val1, key2, val2, name)
		
		output = ''
        output += 'T = ' + T.toFixed(2) + ' K\n' + '<br>'
        output += 'rho = ' + rho.toFixed(3) + ' kg/m&#179; <br>'
        output += 'p = ' + p.toFixed(3) + ' Pa<br>'
        output += 's = ' + s.toFixed(3) + ' J/(kg K)<br>'
        output += 'h = ' + h.toFixed(3) + ' J/kg<br>'
        output += 'cp = ' + cp.toFixed(3) + ' J/(kg K)<br>'
		
		document.getElementById('output').innerHTML = output
	}
    </script>
</body>
</html>
